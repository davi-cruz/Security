let objJSON=workflowContext.trigger.outputs.body.object.properties.relatedEntities;var arrKind=[];objJSON.forEach(objEntity=>{arrKind.push(objEntity.kind)});var setKind=new Set(arrKind);var result=["### Entities",""];setKind.forEach(strKind=>{result.push("");result.push("#### Entity Type: **"+strKind+"**");result.push("");scope=objJSON.filter(entity=>entity.kind==strKind);keys=[];scope.forEach(entity=>{Object.keys(entity.properties).forEach(key=>{keys.push(key)})});tableHeader=[];tableDelimiter=[];new Set(keys).forEach(key=>{tableHeader.push(key);tableDelimiter.push("-")});result.push('| '+tableHeader.join(" | ")+" |");result.push('| '+tableDelimiter.join(" | ")+" |");scope.forEach(entity=>{tableRow=[];keys.forEach(key=>{if(entity.properties[key]){if(key=='additionalData'){tableRow.push(JSON.stringify(entity.properties[key]))}else{tableRow.push(entity.properties[key])}}else{tableRow.push("")}});result.push('| '+tableRow.join(" | ")+" |")})});output=result.join("\n");return output;